================================
        Comandos Linux
================================

/etc/resolv.conf    #Direectotio que contiene los DNS
/etc/chrony.conf    #Archivo que contiene las IP de sincronizacion de reloj
lsblk               #Me lista todas la particiones que tengo
lvdisplay           #Me lista las particiones de tipo LVM
lvscan              #Me lista las particiones de tipo LVM en forma reducida

Sintaxis Hostname: lv_hostname_disco

#Comando para clonar un disco
    dd if=Origen of=Destino bs=5M status=progress
    
    bs: Velocidad con la que se clona, afecta al CPU si pongo mucha
    status: Vista del ptogreso de copia

Nota: Asegurad la ruta origen y destino, ya que el comando
forza la clonacion, podira darle a la raiz y llevarme todo
lo que contenga


#Configuracion de direccion IP
    Comando: ifconfig
    Archivo: /etc/sysconfig/network-Scripts
    Comando: nmtui
    Actualizacion: systemctl restart network 
    Actualizacion: ifup eth0

#Funciones para el esacaneo de puerto
    netstat    
    netstat -an |egrep 'ESTABLISHED' | awk '{print $5}' | cut -d ":" -f2 | sort -n| uniq
    netstat -ln |egrep ' LISTEN ' | awk '{print $4}' | cut -d ":" -f2 | sort -n| uniq

    ss -tulpan | grep -i ' LISTEN '   #Es una alternativa al netstat 

    ps aux --width 30 --sort -rss | head             #Comando para ver los procesos que estan consumiendo maas memoria 
    watch -n 3 'ps -fea | grep apigee'               #Con el wath le indico que hara un comando cada cierto tiempo
    ps h -Led -o user | sort | uniq -c | sort -n     #Ves el numero de procesos que tiene un usuario

#Limpiar memoria 
    free -h; sync; echo 3 > /proc/sys/vm/drop_caches; free -h

#Sustiruir espacion por solo uno 
    tr -s '[:blank:]'  " "

#Convertir en tar
    tar -czf archivo.tgz achivo 

#Descomprimir un tar
    tar -xzf archivo.tgz

#Comprimir zip con passwd
    zip -er archivo.zip archivo

#Subir y bajar los iptables
    service iptables stop
    service iptables start
    service iptables status

#Comando para liberar swap
    swapoff -a && swapon -a


==============================================================
#Curl para saber donde no se deployo una api en los routers
#Esto lo coupamos cuando api no fue bien deployada, y queremos saber
#en cual MP no fue deploya
#Este curl me va a regredar un uUID del MP donde no fue deployada

curl -k -v -u user:pass -X GET 'https://IP:8443/v1/organizations/baz-prod/environments/prod-ext/apis/API/revisions/revision/deployments'

#Este comando me regresa un uUID, a partir de esto ocupo 
#ocupo el siguiente curl para obtener la IP de MP 
curl -u user:pass -X GET http://localhost:8080/v1/servers/uUID
==============================================================






#Dar permisos a un usuario o grupo en particula sobre un archivo
    setfacl -Rm u:user:rX archivo 
    setfacl -Rm g:grupo:rX archivo 

#ver los permissos de los usuarios sobre el archivo 
    getfacl archivo 


#Habilitar puerto , si no tengo conexion, es porque el puerto puede estar abajo
    nc -l puerto 

#Comando para ver la cabecera de un disco
    sudo strings  /dev/sda4 | head



==================================================================
#El servicio chronyd.service es el encargado de la sincronizacion 
    systemctl status chronyd.service
    Ruta: cat /etc/chrony.conf #Archivo de configuracion
    chronyc source  #Comando para realiza sincronia

#Puerto NTP 123 para las cuestiones de sincronia
    timedatectl status #Verifico lo relacionado con fecha 
    timedatectl set-time '' #comando para la modificacion de fecha

==================================================================


